import{j as s,X as Z,i as _,k as q,g as T}from"./ui.D-SKQn5i.js";import{a as H,r as A}from"./vendor.CzzjzYca.js";import{c as f,B as C}from"./Button.CP0jvIJM.js";const P=H.forwardRef(({className:N,type:l="text",label:a,description:S,error:d,required:t=!1,id:w,...h},g)=>{var v,y;const i=w||`input-${(y=(v=Math.random())==null?void 0:v.toString(36))==null?void 0:y.substr(2,9)}`,b="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50";return l==="checkbox"?s.jsx("input",{type:"checkbox",className:f("h-4 w-4 rounded border border-input bg-background text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",N),ref:g,id:i,...h}):l==="radio"?s.jsx("input",{type:"radio",className:f("h-4 w-4 rounded-full border border-input bg-background text-primary focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",N),ref:g,id:i,...h}):s.jsxs("div",{className:"space-y-2",children:[a&&s.jsxs("label",{htmlFor:i,className:f("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",d?"text-destructive":"text-foreground"),children:[a,t&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsx("input",{type:l,className:f(b,d&&"border-destructive focus-visible:ring-destructive",N),ref:g,id:i,...h}),S&&!d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:S}),d&&s.jsx("p",{className:"text-sm text-destructive",children:d})]})});P.displayName="Input";const O=H.forwardRef(({className:N,options:l=[],value:a,defaultValue:S,placeholder:d="Select an option",multiple:t=!1,disabled:w=!1,required:h=!1,label:g,description:i,error:b,searchable:v=!1,clearable:y=!1,loading:I=!1,id:W,name:X,onChange:u,onOpenChange:n,...G},J)=>{var $,D;const[k,z]=A.useState(!1),[x,L]=A.useState(""),R=W||`select-${(D=($=Math.random())==null?void 0:$.toString(36))==null?void 0:D.substr(2,9)}`,j=v&&x?l==null?void 0:l.filter(e=>{var c,r,m,E,F;return((r=(c=e==null?void 0:e.label)==null?void 0:c.toLowerCase())==null?void 0:r.includes(x==null?void 0:x.toLowerCase()))||(e==null?void 0:e.value)&&((F=(E=(m=e==null?void 0:e.value)==null?void 0:m.toString())==null?void 0:E.toLowerCase())==null?void 0:F.includes(x==null?void 0:x.toLowerCase()))}):l,K=()=>{var c;if(!a)return d;if(t){const r=l==null?void 0:l.filter(m=>a==null?void 0:a.includes(m==null?void 0:m.value));return(r==null?void 0:r.length)===0?d:(r==null?void 0:r.length)===1?(c=r==null?void 0:r[0])==null?void 0:c.label:`${r==null?void 0:r.length} items selected`}const e=l==null?void 0:l.find(r=>(r==null?void 0:r.value)===a);return e?e==null?void 0:e.label:d},Q=()=>{if(!w){const e=!k;z(e),n==null||n(e),e||L("")}},U=e=>{if(t){const c=a||[],r=c!=null&&c.includes(e==null?void 0:e.value)?c==null?void 0:c.filter(m=>m!==(e==null?void 0:e.value)):[...c,e==null?void 0:e.value];u==null||u(r)}else u==null||u(e==null?void 0:e.value),z(!1),n==null||n(!1)},V=e=>{e==null||e.stopPropagation(),u==null||u(t?[]:"")},Y=e=>{var c;L((c=e==null?void 0:e.target)==null?void 0:c.value)},B=e=>t?(a==null?void 0:a.includes(e))||!1:a===e,M=t?(a==null?void 0:a.length)>0:a!==void 0&&a!=="";return s.jsxs("div",{className:f("relative",N),children:[g&&s.jsxs("label",{htmlFor:R,className:f("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mb-2 block",b?"text-destructive":"text-foreground"),children:[g,h&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{ref:J,id:R,type:"button",className:f("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white text-black px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",b&&"border-destructive focus:ring-destructive",!M&&"text-muted-foreground"),onClick:Q,disabled:w,"aria-expanded":k,"aria-haspopup":"listbox",...G,children:[s.jsx("span",{className:"truncate",children:K()}),s.jsxs("div",{className:"flex items-center gap-1",children:[I&&s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),y&&M&&!I&&s.jsx(C,{variant:"ghost",size:"icon",className:"h-4 w-4",onClick:V,children:s.jsx(Z,{className:"h-3 w-3"})}),s.jsx(_,{className:f("h-4 w-4 transition-transform",k&&"rotate-180")})]})]}),s.jsxs("select",{name:X,value:a||"",onChange:()=>{},className:"sr-only",tabIndex:-1,multiple:t,required:h,children:[s.jsx("option",{value:"",children:"Select..."}),l==null?void 0:l.map(e=>s.jsx("option",{value:e==null?void 0:e.value,children:e==null?void 0:e.label},e==null?void 0:e.value))]}),k&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white text-black border border-border rounded-md shadow-md",children:[v&&s.jsx("div",{className:"p-2 border-b",children:s.jsxs("div",{className:"relative",children:[s.jsx(q,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(P,{placeholder:"Search options...",value:x,onChange:Y,className:"pl-8"})]})}),s.jsx("div",{className:"py-1 max-h-60 overflow-auto",children:(j==null?void 0:j.length)===0?s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:x?"No options found":"No options available"}):j==null?void 0:j.map(e=>s.jsxs("div",{className:f("relative flex cursor-pointer select-none items-center rounded-sm px-3 py-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground",B(e==null?void 0:e.value)&&"bg-primary text-primary-foreground",(e==null?void 0:e.disabled)&&"pointer-events-none opacity-50"),onClick:()=>!(e!=null&&e.disabled)&&U(e),children:[s.jsx("span",{className:"flex-1",children:e==null?void 0:e.label}),t&&B(e==null?void 0:e.value)&&s.jsx(T,{className:"h-4 w-4"}),(e==null?void 0:e.description)&&s.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:e==null?void 0:e.description})]},e==null?void 0:e.value))})]})]}),i&&!b&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i}),b&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:b})]})});O.displayName="Select";export{P as I,O as S};
